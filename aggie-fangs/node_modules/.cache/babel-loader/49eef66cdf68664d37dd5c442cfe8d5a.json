{"ast":null,"code":"import _defineProperty from\"C:/Programming/github/Proj3/aggie-fangs/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Programming/github/Proj3/aggie-fangs/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Programming/github/Proj3/aggie-fangs/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _taggedTemplateLiteral from\"C:/Programming/github/Proj3/aggie-fangs/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject;import React,{useEffect,useState}from\"react\";import{v4 as uuidv4}from\"uuid\";import styled from\"styled-components\";import axios from'axios';import Multiselect from'multiselect-react-dropdown';import loadingGif from\"../images/loading.gif\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var database_id='22f238cc864e4a1496e42e3d8a2c05c6';//const secretKey = 'secret_AFKZAuWeh8KSRFU7dK4vcdUTEQG1pb3CyQtwBIdj9Ws'\nvar dbAddress=localStorage.getItem(\"db-address\");var SubmitButton=styled.button(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  cursor: pointer;\\n  background-color: var(--btncolor);\\n  padding: 1.5rem;\\n  border-radius: 20px;\\n  text-decoration: none;\\n  color: var(--btntxtcolor);\\n  font-size: 40px;\\n  font-family: \\\"Lucida Console\\\", \\\"Courier New\\\", monospace;\\n\\n  overflow-x: hidden;\\n  float: center;\\n\"])));var Form=function Form(_ref){var form=_ref.form,reviews=_ref.reviews,setForm=_ref.setForm,setReviews=_ref.setReviews;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),tags=_useState2[0],setTags=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),selectedValue=_useState4[0],setSelectedValue=_useState4[1];useEffect(function(){fetch(dbAddress+'/tags',{method:\"GET\"}).then(function(response){if(response.type==='opaque'||response.ok){response.json().then(function(revItems){setTags(revItems);});}}).catch(function(error){console.log(\"Error is: \",error);});},[]);var handleRemovedTag=function handleRemovedTag(e){//\n};var handleChange=function handleChange(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setForm(_objectSpread(_objectSpread({},form),{},_defineProperty({},name,value)));console.log(\"Form is set to: \",form);};var handleSelectedChange=function handleSelectedChange(e){console.log(\"selected change detected\");setSelectedValue(Array.isArray(e)?e.map(function(x){return x.value;}):[\"empty\"]);console.log(\"selectedValue\",selectedValue);};var checkValidity=function checkValidity(){// todo\nreturn true;};var handleSubmit=function handleSubmit(e){fetch('http://localhost:3002/addRev',{mode:'no-cors',method:'POST',headers:{'Content-Type':'application/x-www-form-urlencoded'},body:JSON.stringify({title:form.company,name:form.name,userEmail:form.email,description:form.review,tag:form.job})});/*  if (checkValidity()) {\r\n      alert(\"The input data is good!\");\r\n      e.preventDefault();\r\n      setReviews([...reviews, form]);\r\n      setForm({company: \"\", review: \"\", id: uuidv4()});\r\n    } else {\r\n      alert(\"Please enter valid information.\")\r\n    } */ // console.log(\"form is: \", form, \" and the job is: \", form.job )\n};if(tags==null){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"img\",{src:loadingGif,alt:\"wait until the page loads\"}),/*#__PURE__*/_jsx(\"h1\",{children:\"Loading...\"})]});}else{return/*#__PURE__*/_jsxs(\"form\",{className:\"form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Share Your Experience\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"Company\",children:\"Company\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"select\",{placeholder:\"Company\",id:\"company\",name:\"company\",value:form.company,onChange:handleChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"None\",children:\"Select Company\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Google\",children:\"Google\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Facebook\",children:\"Facebook\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Amazon\",children:\"Amazon\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Netflix\",children:\"Netflix\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Apple\",children:\"Apple\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Microsoft\",children:\"Microsoft\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"JobTitle\",children:\"Job Title\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"select\",{placeholder:\"Job Type\",id:\"job\",name:\"job\",value:form.job,onChange:handleChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"None\",children:\"Select Job Type(s)\"}),tags.map(function(company){return/*#__PURE__*/_jsx(\"option\",{value:company.id,children:company.name});})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"Name\",children:\"Name\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"textarea\",{value:form.name,placeholder:\"Enter your name\",id:\"name\",name:\"name\",autoComplete:\"off\",onChange:handleChange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"Email\",children:\"Valid School Email\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"textarea\",{value:form.email,placeholder:\"Enter your valid school email\",id:\"email\",name:\"email\",autoComplete:\"off\",onChange:handleChange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"review\",children:\"Review\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{class:\"review-box\",children:/*#__PURE__*/_jsx(\"textarea\",{value:form.review,placeholder:\"Give feedback\",id:\"review\",name:\"review\",autoComplete:\"off\",onChange:handleChange})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(SubmitButton,{children:\"Submit\"})]});}};export default Form;","map":{"version":3,"sources":["C:/Programming/github/Proj3/aggie-fangs/src/components/Form.js"],"names":["React","useEffect","useState","v4","uuidv4","styled","axios","Multiselect","loadingGif","database_id","dbAddress","localStorage","getItem","SubmitButton","button","Form","form","reviews","setForm","setReviews","tags","setTags","selectedValue","setSelectedValue","fetch","method","then","response","type","ok","json","revItems","catch","error","console","log","handleRemovedTag","e","handleChange","target","name","value","handleSelectedChange","Array","isArray","map","x","checkValidity","handleSubmit","mode","headers","body","JSON","stringify","title","company","userEmail","email","description","review","tag","job","id"],"mappings":"yhBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,EAAE,GAAIC,CAAAA,MAAf,KAA6B,MAA7B,CACA,MAAOC,CAAAA,MAAP,KAAmB,mBAAnB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,WAAP,KAAwB,4BAAxB,CACA,MAAOC,CAAAA,UAAP,KAAuB,uBAAvB,C,wFAEA,GAAMC,CAAAA,WAAW,CAAG,kCAApB,CACA;AAEA,GAAIC,CAAAA,SAAS,CAAGC,YAAY,CAACC,OAAb,CAAqB,YAArB,CAAhB,CAEA,GAAMC,CAAAA,YAAY,CAAGR,MAAM,CAACS,MAAV,gWAAlB,CAaA,GAAMC,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,MAA0C,IAAxCC,CAAAA,IAAwC,MAAxCA,IAAwC,CAAlCC,OAAkC,MAAlCA,OAAkC,CAAzBC,OAAyB,MAAzBA,OAAyB,CAAhBC,UAAgB,MAAhBA,UAAgB,CACrD,cAAwBjB,QAAQ,CAAC,IAAD,CAAhC,wCAAOkB,IAAP,eAAaC,OAAb,eACA,eAAyCnB,QAAQ,CAAC,EAAD,CAAjD,yCAAMoB,aAAN,eAAqBC,gBAArB,eAEAtB,SAAS,CAAC,UAAM,CACduB,KAAK,CAACd,SAAS,CAAG,OAAb,CAAqB,CAC1Be,MAAM,CAAE,KADkB,CAArB,CAAL,CAECC,IAFD,CAEM,SAAAC,QAAQ,CAAI,CAClB,GAAIA,QAAQ,CAACC,IAAT,GAAkB,QAAlB,EAA8BD,QAAQ,CAACE,EAA3C,CAA+C,CAC3CF,QAAQ,CAACG,IAAT,GAAgBJ,IAAhB,CAAqB,SAAAK,QAAQ,CAAI,CAC/BV,OAAO,CAACU,QAAD,CAAP,CACH,CAFC,EAGH,CACF,CARC,EAQCC,KARD,CAQO,SAAAC,KAAK,CAAI,CAChBC,OAAO,CAACC,GAAR,CAAY,YAAZ,CAA0BF,KAA1B,EACD,CAVC,EAWD,CAZQ,CAYP,EAZO,CAAT,CAcA,GAAMG,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,CAAAC,CAAC,CAAI,CAC5B;AACD,CAFD,CAIA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAAAD,CAAC,CAAI,CACxB,cAAqBA,CAAC,CAACE,MAAvB,CAAMC,IAAN,WAAMA,IAAN,CAAYC,KAAZ,WAAYA,KAAZ,CACAvB,OAAO,gCAAKF,IAAL,wBAAYwB,IAAZ,CAAmBC,KAAnB,GAAP,CACAP,OAAO,CAACC,GAAR,CAAY,kBAAZ,CAAgCnB,IAAhC,EACD,CAJD,CAOA,GAAM0B,CAAAA,oBAAoB,CAAG,QAAvBA,CAAAA,oBAAuB,CAAAL,CAAC,CAAI,CAChCH,OAAO,CAACC,GAAR,CAAY,0BAAZ,EACAZ,gBAAgB,CAACoB,KAAK,CAACC,OAAN,CAAcP,CAAd,EAAmBA,CAAC,CAACQ,GAAF,CAAM,SAAAC,CAAC,QAAIA,CAAAA,CAAC,CAACL,KAAN,EAAP,CAAnB,CAAyC,CAAC,OAAD,CAA1C,CAAhB,CACAP,OAAO,CAACC,GAAR,CAAY,eAAZ,CAA4Bb,aAA5B,EACD,CAJD,CAKA,GAAMyB,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAM,CAC1B;AACA,MAAO,KAAP,CACD,CAHD,CAIA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAAAX,CAAC,CAAI,CACxBb,KAAK,CAAC,8BAAD,CAAiC,CACpCyB,IAAI,CAAC,SAD+B,CAEpCxB,MAAM,CAAE,MAF4B,CAGpCyB,OAAO,CAAE,CAAC,eAAgB,mCAAjB,CAH2B,CAIpCC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACnBC,KAAK,CAAEtC,IAAI,CAACuC,OADO,CAEnBf,IAAI,CAAExB,IAAI,CAACwB,IAFQ,CAGnBgB,SAAS,CAAExC,IAAI,CAACyC,KAHG,CAInBC,WAAW,CAAE1C,IAAI,CAAC2C,MAJC,CAKnBC,GAAG,CAAE5C,IAAI,CAAC6C,GALS,CAAf,CAJ8B,CAAjC,CAAL,CAYJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QApB4B,CAqBzB;AACA,CAtBD,CAwBA,GAAGzC,IAAI,EAAI,IAAX,CAAgB,CACd,mBACE,oCACA,YAAK,GAAG,CAAEZ,UAAV,CAAsB,GAAG,CAAC,2BAA1B,EADA,cAEA,kCAFA,GADF,CAOD,CARD,IAQO,CACL,mBACE,cAAM,SAAS,CAAC,MAAhB,CAAuB,QAAQ,CAAEwC,YAAjC,wBACI,6CADJ,cAEM,cAAO,OAAO,CAAC,SAAf,qBAFN,cAE8C,aAF9C,cAGM,gBAAQ,WAAW,CAAC,SAApB,CACI,EAAE,CAAC,SADP,CAEI,IAAI,CAAC,SAFT,CAGI,KAAK,CAAEhC,IAAI,CAACuC,OAHhB,CAII,QAAQ,CAAEjB,YAJd,wBAKI,eAAQ,KAAK,CAAC,MAAd,4BALJ,cAMI,eAAQ,KAAK,CAAC,QAAd,oBANJ,cAOI,eAAQ,KAAK,CAAC,UAAd,sBAPJ,cAQI,eAAQ,KAAK,CAAC,QAAd,oBARJ,cASI,eAAQ,KAAK,CAAC,SAAd,qBATJ,cAUI,eAAQ,KAAK,CAAC,OAAd,mBAVJ,cAWI,eAAQ,KAAK,CAAC,WAAd,uBAXJ,GAHN,cAee,aAff,cAiBM,cAAO,OAAO,CAAC,UAAf,uBAjBN,cAiBiD,aAjBjD,cAkBM,gBAAQ,WAAW,CAAC,UAApB,CACE,EAAE,CAAC,KADL,CAEE,IAAI,CAAC,KAFP,CAGE,KAAK,CAAEtB,IAAI,CAAC6C,GAHd,CAIE,QAAQ,CAAEvB,YAJZ,wBAKE,eAAQ,KAAK,CAAC,MAAd,gCALF,CAMGlB,IAAI,CAACyB,GAAL,CAAS,SAAAU,OAAO,qBACd,eAAQ,KAAK,CAAIA,OAAO,CAACO,EAAzB,UAA8BP,OAAO,CAACf,IAAtC,EADc,EAAhB,CANH,GAlBN,cA2BiB,aA3BjB,cA6BM,cAAO,OAAO,CAAC,MAAf,kBA7BN,cA6BwC,aA7BxC,cA8BM,iBACO,KAAK,CAAExB,IAAI,CAACwB,IADnB,CAEO,WAAW,CAAC,iBAFnB,CAGO,EAAE,CAAC,MAHV,CAIO,IAAI,CAAC,MAJZ,CAKO,YAAY,CAAC,KALpB,CAMO,QAAQ,CAAEF,YANjB,EA9BN,cAqCiB,aArCjB,cAsCM,cAAO,OAAO,CAAC,OAAf,gCAtCN,cAsCuD,aAtCvD,cAuCM,iBACO,KAAK,CAAEtB,IAAI,CAACyC,KADnB,CAEO,WAAW,CAAC,+BAFnB,CAGO,EAAE,CAAC,OAHV,CAIO,IAAI,CAAC,OAJZ,CAKO,YAAY,CAAC,KALpB,CAMO,QAAQ,CAAEnB,YANjB,EAvCN,cA8CiB,aA9CjB,cA+CM,cAAO,OAAO,CAAC,QAAf,oBA/CN,cA+C4C,aA/C5C,cAgDM,YAAK,KAAK,CAAC,YAAX,uBAAwB,iBACjB,KAAK,CAAEtB,IAAI,CAAC2C,MADK,CAEjB,WAAW,CAAC,eAFK,CAGjB,EAAE,CAAC,QAHc,CAIjB,IAAI,CAAC,QAJY,CAKjB,YAAY,CAAC,KALI,CAMjB,QAAQ,CAAErB,YANO,EAAxB,EAhDN,cAuDuB,aAvDvB,cAwDM,KAAC,YAAD,qBAxDN,GADF,CA8DD,CAGF,CAxID,CA0IA,cAAevB,CAAAA,IAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport styled from \"styled-components\";\r\nimport axios from 'axios';\r\nimport Multiselect from 'multiselect-react-dropdown';\r\nimport loadingGif from \"../images/loading.gif\"\r\n\r\nconst database_id = '22f238cc864e4a1496e42e3d8a2c05c6';\r\n//const secretKey = 'secret_AFKZAuWeh8KSRFU7dK4vcdUTEQG1pb3CyQtwBIdj9Ws'\r\n\r\nvar dbAddress = localStorage.getItem(\"db-address\");\r\n\r\nconst SubmitButton = styled.button `\r\n  cursor: pointer;\r\n  background-color: var(--btncolor);\r\n  padding: 1.5rem;\r\n  border-radius: 20px;\r\n  text-decoration: none;\r\n  color: var(--btntxtcolor);\r\n  font-size: 40px;\r\n  font-family: \"Lucida Console\", \"Courier New\", monospace;\r\n\r\n  overflow-x: hidden;\r\n  float: center;\r\n`\r\nconst Form = ({form, reviews, setForm, setReviews}) => {\r\n  const [tags, setTags] = useState(null);\r\n  const[selectedValue, setSelectedValue] = useState([])\r\n\r\n  useEffect(() => {\r\n    fetch(dbAddress + '/tags',{\r\n    method: \"GET\"\r\n  }).then(response => {\r\n    if (response.type === 'opaque' || response.ok) {\r\n        response.json().then(revItems => {\r\n          setTags(revItems)\r\n      });\r\n    } \r\n  }).catch(error => {\r\n    console.log(\"Error is: \", error)\r\n  });\r\n  },[]);\r\n\r\n  const handleRemovedTag = e => {\r\n    //\r\n  }\r\n\r\n  const handleChange = e => {\r\n    const{name, value} = e.target;\r\n    setForm({...form, [name]: value});\r\n    console.log(\"Form is set to: \", form)\r\n  }\r\n\r\n  \r\n  const handleSelectedChange = e => {\r\n    console.log(\"selected change detected\")\r\n    setSelectedValue(Array.isArray(e) ? e.map(x => x.value) : [\"empty\"]);\r\n    console.log(\"selectedValue\",selectedValue)\r\n  }\r\n  const checkValidity = () => {\r\n    // todo\r\n    return true;\r\n  }\r\n  const handleSubmit = e => {\r\n    fetch('http://localhost:3002/addRev', {\r\n      mode:'no-cors',\r\n      method: 'POST',\r\n      headers: {'Content-Type': 'application/x-www-form-urlencoded'},\r\n      body: JSON.stringify({\r\n        title: form.company,\r\n        name: form.name,\r\n        userEmail: form.email,\r\n        description: form.review,\r\n        tag: form.job\r\n      }) \r\n    });\r\n/*  if (checkValidity()) {\r\n      alert(\"The input data is good!\");\r\n      e.preventDefault();\r\n      setReviews([...reviews, form]);\r\n      setForm({company: \"\", review: \"\", id: uuidv4()});\r\n    } else {\r\n      alert(\"Please enter valid information.\")\r\n    } */\r\n   // console.log(\"form is: \", form, \" and the job is: \", form.job )\r\n  }\r\n  \r\n  if(tags == null){\r\n    return(\r\n      <div>\r\n      <img src={loadingGif} alt=\"wait until the page loads\" />\r\n      <h1>Loading...</h1> \r\n    </div>\r\n    )\r\n\r\n  } else {\r\n    return (  \r\n      <form className=\"form\" onSubmit={handleSubmit}>\r\n          <h2>Share Your Experience</h2>\r\n            <label htmlFor='Company'>Company</label><br/>\r\n            <select placeholder=\"Company\"\r\n                id=\"company\"\r\n                name=\"company\"\r\n                value={form.company}\r\n                onChange={handleChange}>\r\n                <option value=\"None\">Select Company</option>\r\n                <option value=\"Google\">Google</option>\r\n                <option value=\"Facebook\">Facebook</option>\r\n                <option value=\"Amazon\">Amazon</option>\r\n                <option value=\"Netflix\">Netflix</option>\r\n                <option value=\"Apple\">Apple</option>\r\n                <option value=\"Microsoft\">Microsoft</option>\r\n            </select><br/>\r\n\r\n            <label htmlFor='JobTitle'>Job Title</label><br/>\r\n            <select placeholder=\"Job Type\"\r\n              id=\"job\"\r\n              name=\"job\"\r\n              value={form.job}\r\n              onChange={handleChange}>\r\n              <option value=\"None\">Select Job Type(s)</option>\r\n              {tags.map(company =>\r\n                (<option value = {company.id}>{company.name}</option>)\r\n                )}\r\n              </select><br/>\r\n\r\n            <label htmlFor='Name'>Name</label><br/>\r\n            <textarea\r\n                   value={form.name}\r\n                   placeholder=\"Enter your name\"  \r\n                   id=\"name\" \r\n                   name=\"name\" \r\n                   autoComplete=\"off\"\r\n                   onChange={handleChange}>\r\n            </textarea><br/>\r\n            <label htmlFor='Email'>Valid School Email</label><br/>\r\n            <textarea\r\n                   value={form.email}\r\n                   placeholder=\"Enter your valid school email\"\r\n                   id=\"email\" \r\n                   name=\"email\" \r\n                   autoComplete=\"off\"\r\n                   onChange={handleChange}>\r\n            </textarea><br/>\r\n            <label htmlFor='review'>Review</label><br/>\r\n            <div class=\"review-box\"><textarea\r\n                   value={form.review}\r\n                   placeholder=\"Give feedback\"  \r\n                   id=\"review\" \r\n                   name=\"review\" \r\n                   autoComplete=\"off\"\r\n                   onChange={handleChange}>\r\n            </textarea></div><br/>\r\n            <SubmitButton >\r\n              Submit\r\n            </SubmitButton>\r\n      </form>\r\n    )\r\n  }\r\n\r\n  \r\n}\r\n\r\nexport default Form"]},"metadata":{},"sourceType":"module"}