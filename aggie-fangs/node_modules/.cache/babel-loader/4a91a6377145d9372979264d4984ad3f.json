{"ast":null,"code":"var _jsxFileName = \"C:\\\\Programming\\\\github\\\\Proj3\\\\aggie-fangs\\\\src\\\\components\\\\Form.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport styled from \"styled-components\";\nimport axios from 'axios';\nimport Multiselect from 'multiselect-react-dropdown';\nimport loadingGif from \"../images/loading.gif\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst database_id = '22f238cc864e4a1496e42e3d8a2c05c6'; //const secretKey = 'secret_AFKZAuWeh8KSRFU7dK4vcdUTEQG1pb3CyQtwBIdj9Ws'\n\nconst SubmitButton = styled.button`\n  cursor: pointer;\n  background-color: var(--btncolor);\n  padding: 1.5rem;\n  border-radius: 20px;\n  text-decoration: none;\n  color: var(--btntxtcolor);\n  font-size: 40px;\n  font-family: \"Lucida Console\", \"Courier New\", monospace;\n\n  overflow-x: hidden;\n  float: center;\n`;\n_c = SubmitButton;\n\nconst Form = _ref => {\n  _s();\n\n  let {\n    form,\n    reviews,\n    setForm,\n    setReviews\n  } = _ref;\n  const [tags, setTags] = useState(null);\n  const [selectedValue, setSelectedValue] = useState([]);\n  useEffect(() => {\n    fetch('http://localhost:3002/tags', {\n      method: \"GET\"\n    }).then(response => {\n      if (response.type === 'opaque' || response.ok) {\n        response.json().then(revItems => {\n          setTags(revItems);\n        });\n      }\n    }).catch(error => {\n      console.log(\"Error is: \", error);\n    });\n  }, []);\n\n  const handleRemovedTag = e => {//\n  };\n\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setForm({ ...form,\n      [name]: value\n    }); //console.log(\"Form is set to: \", form)\n  };\n\n  const handleSelectedChange = e => {\n    console.log(\"selected change detected\");\n    setSelectedValue(Array.isArray(e) ? e.map(x => x.value) : [\"empty\"]);\n    console.log(\"selectedValue\", selectedValue);\n  };\n\n  const checkValidity = () => {\n    // todo\n    return true;\n  };\n\n  const handleSubmit = e => {\n    fetch('http://localhost:3002/sendFeedback1', {\n      mode: 'no-cors',\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      },\n      body: JSON.stringify({\n        title: form.company,\n        name: form.name,\n        userEmail: form.email,\n        description: form.review,\n        tag: form.job\n      })\n    });\n    /*  if (checkValidity()) {\r\n          alert(\"The input data is good!\");\r\n          e.preventDefault();\r\n          setReviews([...reviews, form]);\r\n          setForm({company: \"\", review: \"\", id: uuidv4()});\r\n        } else {\r\n          alert(\"Please enter valid information.\")\r\n        } */\n  };\n\n  if (tags == null) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: loadingGif,\n        alt: \"wait until the page loads\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"form\",\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Share Your Experience\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"Company\",\n        children: \"Company\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 53\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        placeholder: \"Company\",\n        id: \"company\",\n        name: \"company\",\n        value: form.company,\n        onChange: handleChange,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"None\",\n          children: \"Select Company\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Google\",\n          children: \"Google\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Facebook\",\n          children: \"Facebook\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Amazon\",\n          children: \"Amazon\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Netflix\",\n          children: \"Netflix\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Apple\",\n          children: \"Apple\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Microsoft\",\n          children: \"Microsoft\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 22\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"JobTitle\",\n        children: \"Job Title\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 56\n      }, this), /*#__PURE__*/_jsxDEV(Multiselect, {\n        id: \"job\",\n        name: \"job\",\n        value: tags.filter(obj => selectedValue.includes(obj)),\n        onSelect: handleSelectedChange,\n        onRemove: handleRemovedTag,\n        options: tags,\n        displayValue: \"name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"Name\",\n        children: \"Name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 47\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        value: form.name,\n        placeholder: \"Enter your name\",\n        id: \"name\",\n        name: \"name\",\n        autoComplete: \"off\",\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 24\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"Email\",\n        children: \"Valid School Email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 62\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        value: form.email,\n        placeholder: \"Enter your valid school email\",\n        id: \"email\",\n        name: \"email\",\n        autoComplete: \"off\",\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 24\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"review\",\n        children: \"Review\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 51\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"review-box\",\n        children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n          value: form.review,\n          placeholder: \"Give feedback\",\n          id: \"review\",\n          name: \"review\",\n          autoComplete: \"off\",\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 37\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 30\n      }, this), /*#__PURE__*/_jsxDEV(SubmitButton, {\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this);\n  }\n};\n\n_s(Form, \"bTcU9iNwi2x7cyGVWHd9tkOCZ/U=\");\n\n_c2 = Form;\nexport default Form;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"SubmitButton\");\n$RefreshReg$(_c2, \"Form\");","map":{"version":3,"sources":["C:/Programming/github/Proj3/aggie-fangs/src/components/Form.js"],"names":["React","useEffect","useState","v4","uuidv4","styled","axios","Multiselect","loadingGif","database_id","SubmitButton","button","Form","form","reviews","setForm","setReviews","tags","setTags","selectedValue","setSelectedValue","fetch","method","then","response","type","ok","json","revItems","catch","error","console","log","handleRemovedTag","e","handleChange","name","value","target","handleSelectedChange","Array","isArray","map","x","checkValidity","handleSubmit","mode","headers","body","JSON","stringify","title","company","userEmail","email","description","review","tag","job","filter","obj","includes"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport styled from \"styled-components\";\r\nimport axios from 'axios';\r\nimport Multiselect from 'multiselect-react-dropdown';\r\nimport loadingGif from \"../images/loading.gif\"\r\n\r\nconst database_id = '22f238cc864e4a1496e42e3d8a2c05c6';\r\n//const secretKey = 'secret_AFKZAuWeh8KSRFU7dK4vcdUTEQG1pb3CyQtwBIdj9Ws'\r\n\r\nconst SubmitButton = styled.button `\r\n  cursor: pointer;\r\n  background-color: var(--btncolor);\r\n  padding: 1.5rem;\r\n  border-radius: 20px;\r\n  text-decoration: none;\r\n  color: var(--btntxtcolor);\r\n  font-size: 40px;\r\n  font-family: \"Lucida Console\", \"Courier New\", monospace;\r\n\r\n  overflow-x: hidden;\r\n  float: center;\r\n`\r\nconst Form = ({form, reviews, setForm, setReviews}) => {\r\n  const [tags, setTags] = useState(null);\r\n  const[selectedValue, setSelectedValue] = useState([])\r\n\r\n  useEffect(() => {\r\n    fetch('http://localhost:3002/tags',{\r\n    method: \"GET\"\r\n  }).then(response => {\r\n    if (response.type === 'opaque' || response.ok) {\r\n        response.json().then(revItems => {\r\n          setTags(revItems)\r\n      });\r\n    } \r\n  }).catch(error => {\r\n    console.log(\"Error is: \", error)\r\n  });\r\n  },[]);\r\n\r\n  const handleRemovedTag = e => {\r\n    //\r\n  }\r\n\r\n  const handleChange = e => {\r\n    const{name, value} = e.target;\r\n    setForm({...form, [name]: value});\r\n    //console.log(\"Form is set to: \", form)\r\n  }\r\n\r\n  \r\n  const handleSelectedChange = e => {\r\n    console.log(\"selected change detected\")\r\n    setSelectedValue(Array.isArray(e) ? e.map(x => x.value) : [\"empty\"]);\r\n    console.log(\"selectedValue\",selectedValue)\r\n  }\r\n  const checkValidity = () => {\r\n    // todo\r\n    return true;\r\n  }\r\n  const handleSubmit = e => {\r\n    fetch('http://localhost:3002/sendFeedback1', {\r\n      mode:'no-cors',\r\n      method: 'POST',\r\n      headers: {'Content-Type': 'application/x-www-form-urlencoded'},\r\n      body: JSON.stringify({\r\n        title: form.company,\r\n        name: form.name,\r\n        userEmail: form.email,\r\n        description: form.review,\r\n        tag: form.job\r\n      }) \r\n    });\r\n/*  if (checkValidity()) {\r\n      alert(\"The input data is good!\");\r\n      e.preventDefault();\r\n      setReviews([...reviews, form]);\r\n      setForm({company: \"\", review: \"\", id: uuidv4()});\r\n    } else {\r\n      alert(\"Please enter valid information.\")\r\n    } */\r\n  }\r\n  \r\n  if(tags == null){\r\n    return(\r\n      <div>\r\n      <img src={loadingGif} alt=\"wait until the page loads\" />\r\n      <h1>Loading...</h1> \r\n    </div>\r\n    )\r\n\r\n  } else {\r\n    return (  \r\n      <form className=\"form\" onSubmit={handleSubmit}>\r\n          <h2>Share Your Experience</h2>\r\n            <label htmlFor='Company'>Company</label><br/>\r\n            <select placeholder=\"Company\"\r\n                id=\"company\"\r\n                name=\"company\"\r\n                value={form.company}\r\n                onChange={handleChange}>\r\n                <option value=\"None\">Select Company</option>\r\n                <option value=\"Google\">Google</option>\r\n                <option value=\"Facebook\">Facebook</option>\r\n                <option value=\"Amazon\">Amazon</option>\r\n                <option value=\"Netflix\">Netflix</option>\r\n                <option value=\"Apple\">Apple</option>\r\n                <option value=\"Microsoft\">Microsoft</option>\r\n            </select><br/>\r\n\r\n            <label htmlFor='JobTitle'>Job Title</label><br/>\r\n            <Multiselect\r\n              id=\"job\"\r\n              name=\"job\"\r\n              value={tags.filter(obj => selectedValue.includes(obj))}\r\n              onSelect={handleSelectedChange}\r\n              onRemove={handleRemovedTag}\r\n              options = {tags}\r\n              displayValue = \"name\"\r\n              /><br/>\r\n            <label htmlFor='Name'>Name</label><br/>\r\n            <textarea\r\n                   value={form.name}\r\n                   placeholder=\"Enter your name\"  \r\n                   id=\"name\" \r\n                   name=\"name\" \r\n                   autoComplete=\"off\"\r\n                   onChange={handleChange}>\r\n            </textarea><br/>\r\n            <label htmlFor='Email'>Valid School Email</label><br/>\r\n            <textarea\r\n                   value={form.email}\r\n                   placeholder=\"Enter your valid school email\"\r\n                   id=\"email\" \r\n                   name=\"email\" \r\n                   autoComplete=\"off\"\r\n                   onChange={handleChange}>\r\n            </textarea><br/>\r\n            <label htmlFor='review'>Review</label><br/>\r\n            <div class=\"review-box\"><textarea\r\n                   value={form.review}\r\n                   placeholder=\"Give feedback\"  \r\n                   id=\"review\" \r\n                   name=\"review\" \r\n                   autoComplete=\"off\"\r\n                   onChange={handleChange}>\r\n            </textarea></div><br/>\r\n            <SubmitButton >\r\n              Submit\r\n            </SubmitButton>\r\n      </form>\r\n    )\r\n  }\r\n\r\n  \r\n}\r\n\r\nexport default Form"]},"metadata":{},"sourceType":"module"}